[gd_scene load_steps=4 format=3 uid="uid://ny6lnaa7mus1"]

[ext_resource type="ArrayMesh" uid="uid://d2his34iw2dua" path="res://coin/coin.res" id="1_qjlg6"]

[sub_resource type="GDScript" id="GDScript_qjlg6"]
script/source = "extends Node3D

signal coin_collected

@export var rotation_speed = 90.0  # Degrees per second

func _process(delta):
    rotate_y(deg_to_rad(rotation_speed * delta))

func _ready():
    $DespawnTimer.start()

func _on_area_3d_body_entered(body):
    if body.name == \"Player\":
        emit_signal(\"coin_collected\")
        queue_free()

func _on_despawn_timer_timeout():
    queue_free()
"

[sub_resource type="SphereShape3D" id="SphereShape3D_qjlg6"]

[node name="Coin" type="Node3D"]
script = SubResource("GDScript_qjlg6")

[node name="MeshInstance3D" type="MeshInstance3D" parent="."]
transform = Transform3D(0.5, 0, 0, 0, 0.5, 0, 0, 0, 0.5, 2.472, -0.95, -4.874)
mesh = ExtResource("1_qjlg6")

[node name="Area3D" type="Area3D" parent="."]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Area3D"]
shape = SubResource("SphereShape3D_qjlg6")

[node name="DespawnTimer" type="Timer" parent="."]
wait_time = 10.0
one_shot = true

[connection signal="timeout" from="DespawnTimer" to="." method="_on_despawn_timer_timeout"]
